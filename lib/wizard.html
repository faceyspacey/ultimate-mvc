<template name="modal_wizard">
	<div id="{{id}}" class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false" style="display: block;">
		
		<div class="modal-backdrop fade in" style="height: 981px;"></div>
		
    <div class="modal-dialog">
        <div class="modal-content">
					
		      <div class="modal-header">
		          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
							{{#if title}}<h4 class="modal-title" id="myModalLabel">{{title}}</h4>{{/if}}
		      </div>
					
					<div class="modal-body">
						{{>wizard data=wizardData}}
					</div>
            
        </div><!-- /.modal-content -->	
    </div><!-- /.modal-dialog -->
	</div>
</template>


<template name="modal_tabbed_header">
	<ul>
		{{#each tabs}}
			<li class="{{../selected index}}">
				<img src="{{icon}}" width="{{width}}" />
				<a href="#" class="general_icon">{{title}}</a>
			</li>
		{{/each}}
	</ul>
</template>


<template name="modal_tabbed_footer">
	<button type="button" class="btn btn-primary modalSubmit">{{submitText}}</button>
</template>

<template name="empty_modal_content">
	You Forgot to provide a template mofo
</template>

<template name="modal_popup">
	<div id="{{id}}" class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false" style="display: block;">
		
		<div class="modal-backdrop fade in" style="height: 981px;"></div>
		
    <div class="modal-dialog">
        <div class="modal-content">

       
            {{#if header}}
							<div class="modal-header">
								{{Template.dynamic template=header data=headerData}}
							</div>
						{{else}}
	            <div class="modal-header">
	                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
									{{#if title}}<h4 class="modal-title" id="myModalLabel">{{title}}</h4>{{/if}}
	            </div>
						{{/if}}
						
            <div class="modal-body">
                {{#if subtitle}}<h4>{{subtitle}}</h4>{{/if}}
                {{#if description}}<p>{{description}}</p>{{/if}}

								{{#if formData}}
									{{>ultimateForm formData}}
								{{/if}}
								
								{{#if currentTemplate}}
									{{>Template.dynamic template=currentTemplate data=currentContext}}
								{{/if}}
            </div>
						
						
            {{#if footer}}
	            <div class="modal-footer">
	                {{Template.dynamic template=footer data=footerData}}
	            </div>
						{{else}}
	            <div class="modal-footer">
	                {{#if cancelText}}
										<button type="button" class="btn btn-default" data-dismiss="modal">{{cancelText}}</button>
									{{/if}}
								
	                {{#if submitText}}
										<button type="button" class="btn btn-primary modalSubmit">{{submitText}}</button>
									{{/if}}
	            </div>
						{{/if}}

        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
	</div>
</template>


<template name="autoSubmit">
  <div class="form-group">
    <label for="cvc" class="control-label col-md-3"></label>
    <div class="col-md-6">
      <div class="col-md-10">
        <input class="form-control btn btn-success col-md" value="{{value}}" type="submit" tabindex="5" style="{{style}}" />
      </div>
    </div>
  </div>
</template>

<template name="formGroup">
	<div class="form-group {{#if afFieldIsInvalid name=name}} has-error{{/if}}">
    <label for="{{name}}" class="control-label col-md-3">{{afFieldLabelText name=name}}</label>
    <div class="col-md-8">
      {{#unless addon}}
	      <div class="col-md-10">
	        {{> afFieldInput this}}
					
					{{#if help}}
						<span class="help-block pull-left">{{#if afFieldIsInvalid name=name}}{{{afFieldMessage name=name}}}{{else}}{{help}}{{/if}}</span>
					{{/if}}
					
	      </div>
			{{else}}
        <div class="col-md-10 input-group" style="margin-left:15px;">
					
          <div class="form-inline input-group">
            {{> afFieldInput this}}
            <div class="input-group-addon">{{addon}}</div>
          </div>

					{{#if help}}
						<span class="help-block pull-left">{{#if afFieldIsInvalid name=name}}{{{afFieldMessage name=name}}}{{else}}{{help}}{{/if}}</span>
					{{/if}}
        </div>
			{{/unless}}
    </div>
  </div>
</template>

<template name="ccExpGroup">
  <div class="form-group">
    <label for="expiration-date" class="control-label col-md-3">Expiration Date</label>
    <div class="col-md-8">
      <div class="col-md-10">
        {{> afFieldInput monthData}}
        {{> afFieldInput yearData}}
      </div>
    </div>
  </div>
</template>


<template name="readOnlyFormGroup">
  <div class="form-group">
    <label for="subdomain" class="col-sm-4 control-label">{{label}}{{label2}}</label>
    <div class="col-sm-7">
      <input type="text" id="normal-field" class="form-control input-transparent" disabled="disabled" value="{{value}}{{value2}}">
    </div>
  </div>
</template>

<template name="ultimateForm">
	{{flash}}
	
	{{#if Template.contentBlock}}
	
		{{#autoForm newData}}
			{{> Template.contentBlock this}}
		{{/autoForm}}
		
	{{else}}

		{{#autoForm newData}}
		
			{{#each afFieldNames}}
				{{#with fullContext}}
					{{> Template.dynamic template=inputTemplate data=this}}
				{{/with}}
			{{/each}}
			
			{{#unless ../noSubmit}}
				{{>autoSubmit value='Save' style='width: 208px;'}}
			{{/unless}}
				
		{{/autoForm}}
		
	{{/if}}
</template>



<template name="wizard">
  {{#with innerContext ..}}
  <div id="{{wizard.id}}" class="wizard">
    {{> Template.dynamic template=stepsTemplate}}
	
		<div>
			{{#if step.form}}
		
				{{#if activeStepTemplate}}
					{{#ultimateForm id=step.form model=model validation='blur'}}
						{{#with formContext ..}}
							{{> Template.dynamic template=activeStepTemplate data=this}}
						{{/with}}
					{{/ultimateForm}}
				{{else}}
					{{>ultimateForm id=step.form model=model validation='blur'}}
				{{/if}}
			
			{{else}}
		
				{{#with innerStepContext ..}}
					{{> Template.dynamic template=activeStepTemplate}}
				{{/with}}	
			
			{{/if}}
			
			{{> Template.dynamic template=backNextTemplate data=this}}
		</div>
		
  </div>
  {{/with}}
</template>



<template name="wizardSteps">
	<ul class="wizard-navigation nav-justified">
		{{#each wizard.steps}}
			<li>
				{{#if wizard.route}}
					<a class="{{stepClass id}}" href="{{pathFor wizard.route step=id}}">
						<strong> {{title}} </strong>
					</a>
				{{else}}
					<a class="{{stepClass id}} step-link" href="#">
						<strong> {{title}} </strong>
					</a>
				{{/if}}
			</li>
		{{/each}}
	</ul>

  <div id="bar" class="progress progress-small">
    <div class="progress-bar progress-bar-inverse" style="width:{{wizard.activeStep.barPercent}}%"></div>
  </div>
</template>


<template name="instance_wizard_back_next">
  <div class="description ml mr mt-n-md">
    <ul class="wizard" style="margin-top: 60px;">
			
			{{#if showPrevious}}
	      <li class="previous">
	        <a class="btn btn-primary pull-left wizard-button" href="#">
						<i class="fa fa-caret-left"></i> Previous
					</a>
	      </li>
			{{/if}}
      
			{{#if showNext}}
	      <li class="next">
	        <a class="btn btn-primary pull-right wizard-button" href="#">Next 
						<i class="fa fa-caret-right"></i>
					</a>
	      </li>
			{{/if}}
			
			{{#if showFinish}}
				<li class="finish">
		    	<a class="btn btn-success pull-right wizard-button" href="#">Finish 
						<i class="fa fa-check"></i>
					</a>
		    </li>
			{{/if}}
			
			<div style="clear:both;"></div>
    </ul>
  </div>
</template>